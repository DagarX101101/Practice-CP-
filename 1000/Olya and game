#include <bits/stdc++.h>
using namespace std;

void solve()
{
    int n;
    cin >> n;

    int mini = INT_MAX;
    int index = -1;
    vector<int> secondmini;
    long long sum = 0;

    for (int i = 0; i < n; i++)
    {
        int m;
        cin >> m;
        vector<int> vec(m);

        for (int j = 0; j < m; j++)
            cin >> vec[j];

        sort(vec.begin(), vec.end());

        if (vec[0] < mini)
        {
            mini = vec[0];
            // index = i;
        }

        secondmini.push_back(vec[1]); // assumes m >= 2
    }
    int minim = INT_MAX;
    for (int i = 0; i < n; i++)
    {
        if (secondmini[i] < minim)
        {
            minim = secondmini[i];
            index = i;
        }
    }
    // cout << minim << endl;
    for (int i = 0; i < n; i++)
    {
        if (i != index)
        {
            sum += secondmini[i];
        }
    }
    sum += mini;
    cout << sum << "\n";
}

int main()
{
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int t;
    cin >> t;
    while (t--)
        solve();

    return 0;
}

